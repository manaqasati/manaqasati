<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ù†Ø§Ù‚ØµØªÙŠ â€“ Ù„ÙˆØ­Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #f0f5ff;
    --white: #ffffff;
    --sidebar: #1e3a8a;
    --accent: #1d4ed8;
    --accent2: #1e40af;
    --accent-light: #dbeafe;
    --text: #1e3a8a;
    --muted: #64748b;
    --border: rgba(37,99,235,0.12);
    --success: #16a34a;
    --warning: #d97706;
    --danger: #dc2626;
    --green-light: #dcfce7;
    --orange-light: #fef3c7;
    --red-light: #fee2e2;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Tajawal', sans-serif;
    background: var(--bg);
    color: #1e293b;
    min-height: 100vh;
    display: flex;
  }

  /* SIDEBAR */
  .sidebar {
    width: 250px;
    background: var(--sidebar);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    position: fixed;
    top: 0; right: 0;
    z-index: 100;
  }

  .sidebar-logo {
    padding: 26px 22px 18px;
    border-bottom: 1px solid rgba(255,255,255,0.08);
  }

  .logo-text {
    font-family: 'Cairo', sans-serif;
    font-size: 22px; font-weight: 900;
    color: #fff; letter-spacing: -0.5px;
  }

  .logo-text span { color: #93c5fd; }

  .logo-badge {
    display: inline-block;
    background: rgba(255,255,255,0.1);
    color: #93c5fd; font-size: 11px;
    padding: 2px 8px; border-radius: 100px; margin-top: 4px;
  }

  .sidebar-menu { flex: 1; padding: 14px 10px; }

  .menu-label {
    font-size: 11px; font-weight: 700;
    color: rgba(255,255,255,0.3);
    letter-spacing: 1px; padding: 10px 12px 5px;
  }

  .menu-item {
    display: flex; align-items: center; gap: 10px;
    padding: 11px 13px; border-radius: 10px;
    cursor: pointer; transition: all 0.2s;
    color: rgba(255,255,255,0.6);
    font-size: 14px; font-weight: 500;
    margin-bottom: 2px; text-decoration: none;
  }

  .menu-item:hover { background: rgba(255,255,255,0.08); color: white; }
  .menu-item.active { background: rgba(255,255,255,0.14); color: white; font-weight: 700; }
  .menu-icon { font-size: 17px; width: 20px; text-align: center; }

  .menu-badge {
    margin-right: auto; background: #ef4444;
    color: white; font-size: 11px; font-weight: 700;
    padding: 1px 7px; border-radius: 100px;
  }

  .sidebar-footer {
    padding: 14px 10px;
    border-top: 1px solid rgba(255,255,255,0.08);
  }

  .user-info {
    display: flex; align-items: center; gap: 10px;
    padding: 10px 12px; border-radius: 10px;
    background: rgba(255,255,255,0.07);
  }

  .user-avatar {
    width: 36px; height: 36px; border-radius: 50%;
    background: rgba(255,255,255,0.2);
    display: flex; align-items: center; justify-content: center;
    font-size: 15px; font-weight: 700; color: white; flex-shrink: 0;
  }

  .user-name { font-size: 13px; font-weight: 600; color: white; }
  .user-role { font-size: 11px; color: rgba(255,255,255,0.4); }

  /* MAIN */
  .main { margin-right: 250px; flex: 1; display: flex; flex-direction: column; }

  /* TOPBAR */
  .topbar {
    background: var(--white);
    border-bottom: 1px solid var(--border);
    padding: 0 28px; height: 62px;
    display: flex; align-items: center; justify-content: space-between;
    position: sticky; top: 0; z-index: 50;
    box-shadow: 0 1px 8px rgba(37,99,235,0.06);
  }

  .page-title {
    font-family: 'Cairo', sans-serif;
    font-size: 19px; font-weight: 800; color: var(--text);
  }

  .topbar-right { display: flex; align-items: center; gap: 12px; }

  .notif-btn {
    position: relative; background: var(--bg);
    border: 1px solid var(--border); border-radius: 10px;
    width: 38px; height: 38px;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; font-size: 17px; transition: all 0.2s;
  }

  .notif-btn:hover { background: var(--accent-light); }

  .notif-dot {
    position: absolute; top: 6px; left: 6px;
    width: 8px; height: 8px; background: #ef4444;
    border-radius: 50%; border: 2px solid white;
  }

  .btn-new-request {
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: white; border: none; padding: 9px 18px;
    border-radius: 10px; font-family: 'Tajawal', sans-serif;
    font-size: 14px; font-weight: 700; cursor: pointer;
    box-shadow: 0 3px 12px rgba(37,99,235,0.25);
    transition: all 0.2s; display: flex; align-items: center; gap: 6px;
  }

  .btn-new-request:hover { transform: translateY(-1px); box-shadow: 0 6px 20px rgba(37,99,235,0.3); }

  /* CONTENT */
  .content { padding: 28px; flex: 1; }

  .page-section { display: none; }
  .page-section.active { display: block; animation: fadeIn 0.3s ease; }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* STATS */
  .stats-grid {
    display: grid; grid-template-columns: repeat(4, 1fr);
    gap: 16px; margin-bottom: 24px;
  }

  .stat-card {
    background: var(--white); border-radius: 14px;
    padding: 20px; border: 1px solid var(--border);
    box-shadow: 0 2px 8px rgba(37,99,235,0.05);
    transition: all 0.25s;
  }

  .stat-card:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(37,99,235,0.1); }

  .stat-icon {
    width: 44px; height: 44px; border-radius: 11px;
    display: flex; align-items: center; justify-content: center;
    font-size: 20px; margin-bottom: 14px;
  }

  .si-blue { background: #dbeafe; }
  .si-green { background: #dcfce7; }
  .si-orange { background: #fef3c7; }
  .si-purple { background: #ede9fe; }

  .stat-num {
    font-family: 'Cairo', sans-serif;
    font-size: 28px; font-weight: 900; color: var(--text); line-height: 1;
  }

  .stat-label { font-size: 13px; color: var(--muted); margin-top: 4px; }

  /* CARD */
  .card {
    background: var(--white); border-radius: 16px;
    border: 1px solid var(--border);
    box-shadow: 0 2px 8px rgba(37,99,235,0.05);
    overflow: hidden; margin-bottom: 20px;
  }

  .card-header {
    padding: 18px 22px; border-bottom: 1px solid var(--border);
    display: flex; align-items: center; justify-content: space-between;
  }

  .card-title {
    font-family: 'Cairo', sans-serif;
    font-size: 16px; font-weight: 700; color: var(--text);
  }

  .card-body { padding: 20px 22px; }

  /* BADGE */
  .badge {
    display: inline-flex; align-items: center;
    padding: 4px 10px; border-radius: 100px;
    font-size: 12px; font-weight: 600;
  }

  .badge-open { background: #dbeafe; color: #1d4ed8; }
  .badge-review { background: #fef3c7; color: #d97706; }
  .badge-accepted { background: #dcfce7; color: #16a34a; }
  .badge-completed { background: #f0fdf4; color: #15803d; border: 1px solid #bbf7d0; }
  .badge-cancelled { background: #fee2e2; color: #dc2626; }

  /* REQUEST CARDS */
  .requests-list { display: flex; flex-direction: column; gap: 14px; }

  .request-card {
    background: var(--white); border: 1px solid var(--border);
    border-radius: 14px; padding: 20px 22px;
    transition: all 0.25s; cursor: pointer;
    box-shadow: 0 2px 6px rgba(37,99,235,0.04);
  }

  .request-card:hover {
    border-color: rgba(37,99,235,0.3);
    box-shadow: 0 6px 20px rgba(37,99,235,0.1);
    transform: translateY(-2px);
  }

  .req-top {
    display: flex; align-items: flex-start;
    justify-content: space-between; margin-bottom: 12px;
  }

  .req-title {
    font-family: 'Cairo', sans-serif;
    font-size: 16px; font-weight: 700; color: var(--text);
  }

  .req-meta {
    display: flex; align-items: center; gap: 16px;
    color: var(--muted); font-size: 13px; margin-bottom: 14px;
  }

  .req-meta span { display: flex; align-items: center; gap: 4px; }

  .req-bottom {
    display: flex; align-items: center;
    justify-content: space-between;
    padding-top: 14px;
    border-top: 1px solid rgba(37,99,235,0.06);
  }

  .bids-count {
    display: flex; align-items: center; gap: 6px;
    font-size: 14px; font-weight: 600; color: var(--accent);
  }

  .btn-view-bids {
    background: var(--accent-light); color: var(--accent);
    border: none; padding: 8px 16px; border-radius: 8px;
    font-family: 'Tajawal', sans-serif; font-size: 13px;
    font-weight: 700; cursor: pointer; transition: all 0.2s;
  }

  .btn-view-bids:hover { background: var(--accent); color: white; }

  /* BIDS PANEL */
  .bids-panel {
    display: none; margin-top: 16px;
    border-top: 1px solid var(--border);
    padding-top: 16px;
    animation: fadeIn 0.3s ease;
  }

  .bids-panel.open { display: block; }

  .bid-row {
    display: flex; align-items: center;
    gap: 14px; padding: 14px;
    border: 1.5px solid var(--border);
    border-radius: 12px; margin-bottom: 10px;
    transition: all 0.2s; background: var(--bg);
  }

  .bid-row:hover { border-color: rgba(37,99,235,0.3); background: var(--white); }
  .bid-row.best-bid { border-color: #16a34a; background: #f0fdf4; }

  .bid-avatar {
    width: 42px; height: 42px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 16px; font-weight: 700; flex-shrink: 0;
  }

  .ba1 { background: #dbeafe; color: #1d4ed8; }
  .ba2 { background: #dcfce7; color: #16a34a; }
  .ba3 { background: #fef3c7; color: #d97706; }

  .bid-info { flex: 1; }
  .bid-name { font-size: 14px; font-weight: 700; color: #1e293b; }
  .bid-rating { font-size: 12px; color: var(--warning); }
  .bid-note { font-size: 12px; color: var(--muted); margin-top: 2px; }

  .bid-price-wrap { text-align: center; }
  .bid-price { font-family: 'Cairo', sans-serif; font-size: 20px; font-weight: 900; color: var(--accent); }
  .bid-days { font-size: 11px; color: var(--muted); }

  .best-label {
    background: #16a34a; color: white;
    font-size: 11px; font-weight: 700;
    padding: 2px 8px; border-radius: 100px;
    margin-right: 6px;
  }

  .btn-choose {
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: white; border: none; padding: 9px 16px;
    border-radius: 9px; font-family: 'Tajawal', sans-serif;
    font-size: 13px; font-weight: 700; cursor: pointer;
    transition: all 0.2s; white-space: nowrap;
    box-shadow: 0 2px 10px rgba(37,99,235,0.2);
  }

  .btn-choose:hover { transform: translateY(-1px); box-shadow: 0 4px 16px rgba(37,99,235,0.3); }

  /* AGREEMENT MODAL */
  .agree-overlay {
    position: fixed; inset: 0;
    background: rgba(15,23,42,0.6);
    backdrop-filter: blur(6px);
    z-index: 300; display: none;
    align-items: center; justify-content: center; padding: 20px;
  }
  .agree-overlay.open { display: flex; animation: fadeIn 0.3s ease; }
  .agree-modal {
    background: var(--white); border-radius: 20px;
    width: 100%; max-width: 520px;
    box-shadow: 0 24px 64px rgba(37,99,235,0.2);
    animation: slideUp 0.3s ease; overflow: hidden;
  }
  .agree-header {
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    padding: 22px 28px; text-align: center;
  }
  .agree-header-title { font-family: "Cairo",sans-serif; font-size: 20px; font-weight: 900; color: white; margin-bottom: 4px; }
  .agree-header-sub { font-size: 13px; color: rgba(255,255,255,0.75); }
  .agree-body { padding: 24px 28px; }
  .quran-verse { background: linear-gradient(135deg,#fffbeb,#fef3c7); border: 1px solid rgba(217,119,6,0.2); border-radius: 12px; padding: 16px 18px; margin-bottom: 20px; text-align: center; }
  .bismillah { font-size: 16px; font-weight: 800; color: #92400e; margin-bottom: 8px; }
  .verse { font-size: 14px; color: #78350f; line-height: 1.9; font-weight: 500; }
  .agree-points { display: flex; flex-direction: column; gap: 12px; margin-bottom: 20px; }
  .agree-point { display: flex; align-items: flex-start; gap: 12px; background: var(--bg); border-radius: 10px; padding: 14px; border: 1px solid var(--border); }
  .agree-point-icon { width: 32px; height: 32px; border-radius: 50%; background: var(--accent-light); display: flex; align-items: center; justify-content: center; font-size: 15px; flex-shrink: 0; margin-top: 1px; }
  .agree-point-text { font-size: 14px; color: #334155; line-height: 1.65; }
  .agree-point-text strong { color: var(--text); }
  .agree-note { background: #fef2f2; border: 1px solid #fecaca; border-radius: 10px; padding: 12px 16px; font-size: 13px; color: #dc2626; line-height: 1.6; margin-bottom: 20px; display: flex; gap: 8px; align-items: flex-start; }
  .agree-checkbox-wrap { display: flex; align-items: center; gap: 10px; background: var(--accent-light); border-radius: 10px; padding: 14px 16px; margin-bottom: 16px; cursor: pointer; }
  .agree-checkbox-wrap input[type="checkbox"] { width: 20px; height: 20px; cursor: pointer; accent-color: var(--accent); flex-shrink: 0; }
  .agree-checkbox-label { font-size: 14px; font-weight: 700; color: var(--text); cursor: pointer; line-height: 1.5; }
  .btn-agree { width: 100%; padding: 14px; background: linear-gradient(135deg, var(--accent), var(--accent2)); color: white; border: none; border-radius: 11px; font-family: "Tajawal",sans-serif; font-size: 16px; font-weight: 800; cursor: pointer; transition: all 0.25s; box-shadow: 0 4px 16px rgba(37,99,235,0.3); opacity: 0.45; pointer-events: none; }
  .btn-agree.enabled { opacity: 1; pointer-events: all; }
  .btn-agree.enabled:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(37,99,235,0.35); }
  .btn-cancel-agree { width: 100%; padding: 11px; background: none; border: none; font-family: "Tajawal",sans-serif; font-size: 14px; color: var(--muted); cursor: pointer; margin-top: 8px; transition: color 0.2s; }
  .btn-cancel-agree:hover { color: var(--danger); }

  /* MODAL: Ù†Ø´Ø± Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ */
  .modal-overlay {
    position: fixed; inset: 0;
    background: rgba(15,23,42,0.5);
    backdrop-filter: blur(4px);
    z-index: 200; display: none;
    align-items: center; justify-content: center;
    padding: 20px;
  }

  .modal-overlay.open { display: flex; animation: fadeIn 0.25s ease; }

  .modal {
    background: var(--white); border-radius: 20px;
    padding: 36px; width: 100%; max-width: 520px;
    box-shadow: 0 24px 64px rgba(37,99,235,0.2);
    animation: slideUp 0.3s ease;
  }

  @keyframes slideUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  .modal-header {
    display: flex; align-items: center;
    justify-content: space-between; margin-bottom: 24px;
  }

  .modal-title {
    font-family: 'Cairo', sans-serif;
    font-size: 20px; font-weight: 800; color: var(--text);
  }

  .modal-close {
    background: var(--bg); border: none; border-radius: 8px;
    width: 34px; height: 34px; cursor: pointer;
    font-size: 18px; display: flex; align-items: center; justify-content: center;
    color: var(--muted); transition: all 0.2s;
  }

  .modal-close:hover { background: var(--red-light); color: var(--danger); }

  .form-group { margin-bottom: 18px; }

  .form-label {
    display: block; font-size: 14px; font-weight: 600;
    color: var(--text); margin-bottom: 7px;
  }

  .form-input, .form-select, .form-textarea {
    width: 100%; padding: 11px 14px;
    border: 1.5px solid var(--border); border-radius: 10px;
    font-family: 'Tajawal', sans-serif; font-size: 14px;
    color: #1e293b; background: var(--white);
    outline: none; transition: border-color 0.2s;
  }

  .form-input:focus, .form-select:focus, .form-textarea:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(37,99,235,0.1);
  }

  .form-textarea { min-height: 90px; resize: vertical; }
  .form-select option { background: white; }

  .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }

  .btn-submit {
    width: 100%; padding: 13px;
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: white; border: none; border-radius: 11px;
    font-family: 'Tajawal', sans-serif; font-size: 15px; font-weight: 700;
    cursor: pointer; transition: all 0.25s;
    box-shadow: 0 4px 16px rgba(37,99,235,0.25); margin-top: 6px;
  }

  .btn-submit:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(37,99,235,0.3); }

  /* EMPTY STATE */
  .empty-state {
    text-align: center; padding: 60px 20px;
    color: var(--muted);
  }

  .empty-icon { font-size: 56px; margin-bottom: 16px; }
  .empty-title { font-family: 'Cairo', sans-serif; font-size: 20px; font-weight: 700; color: var(--text); margin-bottom: 8px; }
  .empty-desc { font-size: 14px; line-height: 1.7; margin-bottom: 24px; }

  /* SUCCESS TOAST */
  .toast {
    position: fixed; bottom: 30px; left: 50%;
    transform: translateX(-50%) translateY(100px);
    background: #1e293b; color: white;
    padding: 14px 24px; border-radius: 12px;
    font-size: 14px; font-weight: 600;
    box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    z-index: 300; transition: transform 0.3s ease;
    display: flex; align-items: center; gap: 8px;
  }

  .toast.show { transform: translateX(-50%) translateY(0); }

  /* NOTIFICATIONS */
  .notif-list { display: flex; flex-direction: column; gap: 0; }

  .notif-item {
    display: flex; align-items: flex-start; gap: 12px;
    padding: 16px 22px; border-bottom: 1px solid rgba(37,99,235,0.06);
    cursor: pointer; transition: background 0.15s;
  }

  .notif-item:hover { background: var(--bg); }
  .notif-item.unread { background: #f0f5ff; }
  .notif-item:last-child { border-bottom: none; }

  .notif-dot-wrap {
    width: 40px; height: 40px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 18px; flex-shrink: 0;
  }

  .nd-blue { background: #dbeafe; }
  .nd-green { background: #dcfce7; }
  .nd-orange { background: #fef3c7; }

  .notif-text { font-size: 14px; color: #334155; line-height: 1.5; }
  .notif-time { font-size: 12px; color: var(--muted); margin-top: 3px; }
  .unread-dot { width: 8px; height: 8px; background: var(--accent); border-radius: 50%; margin-top: 6px; flex-shrink: 0; }

  /* PROFILE */
  .profile-card {
    background: var(--white); border-radius: 16px;
    border: 1px solid var(--border); padding: 28px;
    box-shadow: 0 2px 8px rgba(37,99,235,0.05);
    margin-bottom: 20px;
  }

  .profile-top {
    display: flex; align-items: center; gap: 20px; margin-bottom: 28px;
  }

  .profile-avatar {
    width: 72px; height: 72px; border-radius: 50%;
    background: linear-gradient(135deg, var(--accent), #0ea5e9);
    display: flex; align-items: center; justify-content: center;
    font-size: 28px; font-weight: 700; color: white;
    box-shadow: 0 4px 16px rgba(37,99,235,0.25);
  }

  .profile-name { font-family: 'Cairo', sans-serif; font-size: 20px; font-weight: 800; color: var(--text); }
  .profile-email { font-size: 14px; color: var(--muted); margin-top: 2px; }

  @media (max-width: 900px) {
    .stats-grid { grid-template-columns: repeat(2, 1fr); }
    .sidebar { display: none; }
    .main { margin-right: 0; }
  }
</style>
</head>
<body>

<!-- SIDEBAR -->
<div class="sidebar">
  <div class="sidebar-logo">
    <div class="logo-text">Ù…Ù†Ø§Ù‚ØµØªÙŠ<span>.</span></div>
    <div class="logo-badge">ğŸ” Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¹Ù…ÙŠÙ„</div>
  </div>

  <nav class="sidebar-menu">
    <div class="menu-label">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
    <a class="menu-item active" onclick="showPage('home', this)">
      <span class="menu-icon">ğŸ </span> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    </a>

    <div class="menu-label">Ø·Ù„Ø¨Ø§ØªÙŠ</div>
    <a class="menu-item" onclick="showPage('requests', this)">
      <span class="menu-icon">ğŸ“</span> Ø·Ù„Ø¨Ø§ØªÙŠ
    </a>
    <a class="menu-item" onclick="showPage('deals', this)">
      <span class="menu-icon">ğŸ¤</span> ØµÙÙ‚Ø§ØªÙŠ
    </a>

    <div class="menu-label">Ø§Ù„ØªÙˆØ§ØµÙ„</div>
    <a class="menu-item" onclick="showPage('messages', this)">
      <span class="menu-icon">ğŸ’¬</span> Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
      <span class="menu-badge">3</span>
    </a>
    <a class="menu-item" onclick="showPage('notifications', this)">
      <span class="menu-icon">ğŸ””</span> Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
      <span class="menu-badge">5</span>
    </a>

    <div class="menu-label">Ø§Ù„Ø­Ø³Ø§Ø¨</div>
    <a class="menu-item" onclick="showPage('profile', this)">
      <span class="menu-icon">ğŸ‘¤</span> Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠ
    </a>
    <a class="menu-item" href="auth.html" style="color:rgba(239,68,68,0.7);">
      <span class="menu-icon">ğŸšª</span> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
    </a>
  </nav>

  <div class="sidebar-footer">
    <div class="user-info">
      <div class="user-avatar">Ø£</div>
      <div>
        <div class="user-name">Ø£Ø­Ù…Ø¯ Ø§Ù„Ø¹Ù…Ø±ÙŠ</div>
        <div class="user-role">Ø¨Ø§Ø­Ø« Ø¹Ù† Ø®Ø¯Ù…Ø©</div>
      </div>
    </div>
  </div>
</div>

<!-- MAIN -->
<div class="main">

  <!-- TOPBAR -->
  <div class="topbar">
    <div class="page-title" id="pageTitle">Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ø­Ù…Ø¯ ğŸ‘‹</div>
    <div class="topbar-right">
      <div class="notif-btn" onclick="showPage('notifications', document.querySelector('[onclick*=notifications]'))">
        ğŸ”” <div class="notif-dot"></div>
      </div>
      <button class="btn-new-request" onclick="openModal()">
        â• Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
      </button>
    </div>
  </div>

  <!-- CONTENT -->
  <div class="content">

    <!-- ============================
         Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    ============================ -->
    <div class="page-section active" id="page-home">

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon si-blue">ğŸ“</div>
          <div class="stat-num">4</div>
          <div class="stat-label">Ø·Ù„Ø¨Ø§Øª Ù…Ù†Ø´ÙˆØ±Ø©</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon si-orange">â³</div>
          <div class="stat-num">12</div>
          <div class="stat-label">Ø¹Ø±Ø¶ Ù…Ø³ØªÙ„Ù…</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon si-green">âœ…</div>
          <div class="stat-num">2</div>
          <div class="stat-label">ØµÙÙ‚Ø© Ù…ÙƒØªÙ…Ù„Ø©</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon si-purple">ğŸ’°</div>
          <div class="stat-num">%38</div>
          <div class="stat-label">Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙˆÙÙŠØ±</div>
        </div>
      </div>

      <!-- Ø¢Ø®Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">ğŸ“ Ø¢Ø®Ø± Ø·Ù„Ø¨Ø§ØªÙŠ</span>
          <a style="font-size:13px; color:var(--accent); font-weight:600; cursor:pointer;" onclick="showPage('requests', document.querySelector('[onclick*=requests]'))">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</a>
        </div>
        <div class="card-body">
          <div class="requests-list" id="homeRequestsList"></div>
        </div>
      </div>

    </div>

    <!-- ============================
         Ø·Ù„Ø¨Ø§ØªÙŠ
    ============================ -->
    <div class="page-section" id="page-requests">

      <div class="card">
        <div class="card-header">
          <span class="card-title">ğŸ“ Ø¬Ù…ÙŠØ¹ Ø·Ù„Ø¨Ø§ØªÙŠ</span>
          <button class="btn-new-request" onclick="openModal()" style="font-size:13px; padding:7px 14px;">â• Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</button>
        </div>
        <div class="card-body">
          <div class="requests-list" id="allRequestsList"></div>
        </div>
      </div>

    </div>

    <!-- ============================
         ØµÙÙ‚Ø§ØªÙŠ
    ============================ -->
    <div class="page-section" id="page-deals">
      <div class="card">
        <div class="card-header">
          <span class="card-title">ğŸ¤ ØµÙÙ‚Ø§ØªÙŠ Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©</span>
        </div>
        <div class="card-body">
          <div class="requests-list">

            <div class="request-card" style="cursor:default;">
              <div class="req-top">
                <div>
                  <div class="req-title">ØªØ±ÙƒÙŠØ¨ Ù…ÙƒÙŠÙ Ø³Ø¨Ù„ÙŠØª 2 Ø·Ù†</div>
                  <div class="req-meta" style="margin-top:6px;">
                    <span>ğŸ”§ Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø±Ø§Ø¦Ø¯ Ù„Ù„ØªÙƒÙŠÙŠÙ</span>
                    <span>ğŸ“… 10 ÙØ¨Ø±Ø§ÙŠØ± 2026</span>
                  </div>
                </div>
                <span class="badge badge-completed">Ù…ÙƒØªÙ…Ù„</span>
              </div>
              <div class="req-bottom">
                <div style="font-size:14px; color:var(--muted);">â­ ØªÙ‚ÙŠÙŠÙ…Ùƒ: <strong style="color:var(--warning)">â˜…â˜…â˜…â˜…â˜…</strong></div>
                <div style="font-family:'Cairo',sans-serif; font-size:20px; font-weight:900; color:var(--success);">450 Ø±.Ø³</div>
              </div>
            </div>

            <div class="request-card" style="cursor:default;">
              <div class="req-top">
                <div>
                  <div class="req-title">ØµÙŠØ§Ù†Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ© Ù…Ù†Ø²Ù„ÙŠØ©</div>
                  <div class="req-meta" style="margin-top:6px;">
                    <span>ğŸ”§ Ø£Ø­Ù…Ø¯ Ù„Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©</span>
                    <span>ğŸ“… 5 ÙŠÙ†Ø§ÙŠØ± 2026</span>
                  </div>
                </div>
                <span class="badge badge-completed">Ù…ÙƒØªÙ…Ù„</span>
              </div>
              <div class="req-bottom">
                <div style="font-size:14px; color:var(--muted);">â­ ØªÙ‚ÙŠÙŠÙ…Ùƒ: <strong style="color:var(--warning)">â˜…â˜…â˜…â˜…â˜†</strong></div>
                <div style="font-family:'Cairo',sans-serif; font-size:20px; font-weight:900; color:var(--success);">280 Ø±.Ø³</div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>

    <!-- ============================
         Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
    ============================ -->
    <div class="page-section" id="page-messages">
      <div class="card" style="height: 520px; display:flex; flex-direction:column;">
        <div class="card-header">
          <span class="card-title">ğŸ’¬ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„</span>
        </div>
        <div style="display:flex; flex:1; overflow:hidden;">

          <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª -->
          <div style="width:240px; border-left:1px solid var(--border); overflow-y:auto;">
            <div id="chatList"></div>
          </div>

          <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© -->
          <div style="flex:1; display:flex; flex-direction:column;">
            <div style="padding:14px 18px; border-bottom:1px solid var(--border); display:flex; align-items:center; gap:10px;">
              <div style="width:36px;height:36px;border-radius:50%;background:#dbeafe;display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent);">Ù…</div>
              <div>
                <div style="font-weight:700;font-size:14px;">Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø±Ø§Ø¦Ø¯ Ù„Ù„ØªÙƒÙŠÙŠÙ</div>
                <div style="font-size:12px;color:var(--success);">â— Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†</div>
              </div>
            </div>
            <div id="chatMessages" style="flex:1; overflow-y:auto; padding:16px; display:flex; flex-direction:column; gap:10px;"></div>
            <div style="padding:12px 16px; border-top:1px solid var(--border); display:flex; gap:8px;">
              <input type="text" id="msgInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ..." style="flex:1; padding:10px 14px; border:1.5px solid var(--border); border-radius:10px; font-family:'Tajawal',sans-serif; font-size:14px; outline:none;">
              <button onclick="sendMsg()" style="background:var(--accent);color:white;border:none;border-radius:10px;padding:0 16px;cursor:pointer;font-size:18px;">â¤</button>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- ============================
         Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
    ============================ -->
    <div class="page-section" id="page-notifications">
      <div class="card">
        <div class="card-header">
          <span class="card-title">ğŸ”” Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</span>
          <a style="font-size:13px; color:var(--accent); font-weight:600; cursor:pointer;">ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„ ÙƒÙ…Ù‚Ø±ÙˆØ¡</a>
        </div>
        <div class="notif-list">
          <div class="notif-item unread">
            <div class="notif-dot-wrap nd-blue">ğŸ’°</div>
            <div style="flex:1;">
              <div class="notif-text">ÙˆØµÙ„ Ø¹Ø±Ø¶ Ø¬Ø¯ÙŠØ¯ Ø¹Ù„Ù‰ Ø·Ù„Ø¨ <strong>ØªØ±ÙƒÙŠØ¨ Ù…ÙƒÙŠÙ Ø³Ø¨Ù„ÙŠØª</strong> Ø¨Ø³Ø¹Ø± 450 Ø±.Ø³</div>
              <div class="notif-time">Ù…Ù†Ø° 10 Ø¯Ù‚Ø§Ø¦Ù‚</div>
            </div>
            <div class="unread-dot"></div>
          </div>
          <div class="notif-item unread">
            <div class="notif-dot-wrap nd-green">âœ…</div>
            <div style="flex:1;">
              <div class="notif-text">ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø¹Ø±Ø¶Ùƒ ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØµÙÙ‚Ø© Ù…Ø¹ <strong>Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø±Ø§Ø¦Ø¯</strong></div>
              <div class="notif-time">Ù…Ù†Ø° Ø³Ø§Ø¹Ø©</div>
            </div>
            <div class="unread-dot"></div>
          </div>
          <div class="notif-item unread">
            <div class="notif-dot-wrap nd-orange">ğŸ’¬</div>
            <div style="flex:1;">
              <div class="notif-text">Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† <strong>Ø£Ø­Ù…Ø¯ Ù„Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©</strong></div>
              <div class="notif-time">Ù…Ù†Ø° 3 Ø³Ø§Ø¹Ø§Øª</div>
            </div>
            <div class="unread-dot"></div>
          </div>
          <div class="notif-item">
            <div class="notif-dot-wrap nd-blue">ğŸ“</div>
            <div style="flex:1;">
              <div class="notif-text">ØªÙ… Ù†Ø´Ø± Ø·Ù„Ø¨Ùƒ <strong>Ø¯Ù‡Ø§Ù† Ø´Ù‚Ø© 4 ØºØ±Ù</strong> Ø¨Ù†Ø¬Ø§Ø­</div>
              <div class="notif-time">Ø£Ù…Ø³</div>
            </div>
          </div>
          <div class="notif-item">
            <div class="notif-dot-wrap nd-green">â­</div>
            <div style="flex:1;">
              <div class="notif-text">Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙ‚ÙŠÙŠÙ…Ùƒ! Ø³Ø§Ø¹Ø¯Øª Ø§Ù„Ù…Ø¬ØªÙ…Ø¹</div>
              <div class="notif-time">Ù…Ù†Ø° ÙŠÙˆÙ…ÙŠÙ†</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ============================
         Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
    ============================ -->
    <div class="page-section" id="page-profile">
      <div class="profile-card">
        <div class="profile-top">
          <div class="profile-avatar">Ø£</div>
          <div>
            <div class="profile-name">Ø£Ø­Ù…Ø¯ Ø§Ù„Ø¹Ù…Ø±ÙŠ</div>
            <div class="profile-email"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="74151c191110341119151d185a171b19">[email&#160;protected]</a></div>
          </div>
        </div>
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:16px; max-width:480px;">
          <div class="form-group">
            <label class="form-label">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
            <input type="text" class="form-input" value="Ø£Ø­Ù…Ø¯ Ø§Ù„Ø¹Ù…Ø±ÙŠ">
          </div>
          <div class="form-group">
            <label class="form-label">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</label>
            <input type="tel" class="form-input" value="0501234567">
          </div>
          <div class="form-group">
            <label class="form-label">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
            <input type="email" class="form-input" value="ahmed@email.com">
          </div>
          <div class="form-group">
            <label class="form-label">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
            <input type="text" class="form-input" value="Ø§Ù„Ø±ÙŠØ§Ø¶">
          </div>
        </div>
        <button class="btn-submit" style="width:fit-content; padding:11px 28px; margin-top:8px;">Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
      </div>

      <div class="profile-card">
        <div class="card-title" style="margin-bottom:18px;">ğŸ”’ ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</div>
        <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:14px; max-width:600px;">
          <div class="form-group">
            <label class="form-label">Ø§Ù„Ø­Ø§Ù„ÙŠØ©</label>
            <input type="password" class="form-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
          </div>
          <div class="form-group">
            <label class="form-label">Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label>
            <input type="password" class="form-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
          </div>
          <div class="form-group">
            <label class="form-label">ØªØ£ÙƒÙŠØ¯</label>
            <input type="password" class="form-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
          </div>
        </div>
        <button class="btn-submit" style="width:fit-content; padding:11px 28px; margin-top:8px;">ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</button>
      </div>
    </div>

  </div>
</div>

<!-- ============================
     MODAL: Ù†Ø´Ø± Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
============================ -->
<div class="modal-overlay" id="modalOverlay" onclick="closeModalOutside(event)">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">ğŸ“ Ù†Ø´Ø± Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</div>
      <button class="modal-close" onclick="closeModal()">âœ•</button>
    </div>

    <div class="form-group">
      <label class="form-label">Ø§Ù„ÙØ¦Ø© *</label>
      <select class="form-select">
        <option>ğŸŒ¡ï¸ ØªÙƒÙŠÙŠÙ ÙˆØªØ¨Ø±ÙŠØ¯</option>
        <option>ğŸ”§ Ø­Ø¯Ø§Ø¯Ø© ÙˆÙ…Ø¹Ø§Ø¯Ù†</option>
        <option>âš¡ ÙƒÙ‡Ø±Ø¨Ø§Ø¡</option>
        <option>ğŸš¿ Ø³Ø¨Ø§ÙƒØ©</option>
        <option>ğŸ¨ Ø¯Ù‡Ø§Ù†Ø§Øª ÙˆØ¯ÙŠÙƒÙˆØ±</option>
        <option>ğŸ—ï¸ Ù…Ù‚Ø§ÙˆÙ„Ø§Øª ÙˆØ¨Ù†Ø§Ø¡</option>
        <option>ğŸªŸ Ø£Ù„Ù…Ù†ÙŠÙˆÙ… ÙˆØ²Ø¬Ø§Ø¬</option>
        <option>ğŸ›‹ï¸ Ø£Ø«Ø§Ø« ÙˆØ¯ÙŠÙƒÙˆØ±</option>
      </select>
    </div>

    <div class="form-group">
      <label class="form-label">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø·Ù„Ø¨ *</label>
      <input type="text" class="form-input" id="newTitle" placeholder="Ù…Ø«Ø§Ù„: ØªØ±ÙƒÙŠØ¨ Ù…ÙƒÙŠÙ Ø³Ø¨Ù„ÙŠØª 2 Ø·Ù†">
    </div>

    <div class="form-group">
      <label class="form-label">Ø§Ù„ØªÙØ§ØµÙŠÙ„ ÙˆØ§Ù„Ù…ÙˆØ§ØµÙØ§Øª *</label>
      <textarea class="form-textarea" id="newDesc" placeholder="Ø§Ø°ÙƒØ± ÙƒÙ„ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ù„ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ø£Ø¯Ù‚ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±..."></textarea>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label class="form-label">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
        <input type="text" class="form-input" id="newCity" placeholder="Ø§Ù„Ø±ÙŠØ§Ø¶">
      </div>
      <div class="form-group">
        <label class="form-label">Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø© (Ø±.Ø³)</label>
        <input type="number" class="form-input" id="newBudget" placeholder="Ø§Ø®ØªÙŠØ§Ø±ÙŠ">
      </div>
    </div>

    <button class="btn-submit" onclick="submitRequest()">ğŸš€ Ù†Ø´Ø± Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø§Ù„Ø¹Ø±ÙˆØ¶</button>
  </div>
</div>

<!-- AGREEMENT MODAL -->
<div class="agree-overlay" id="agreeOverlay">
  <div class="agree-modal">
    <div class="agree-header">
      <div class="agree-header-title">ğŸ“œ Ø§ØªÙØ§Ù‚ÙŠØ© Ø§Ù„Ø±Ø³ÙˆÙ…</div>
      <div class="agree-header-sub">ÙŠØ±Ø¬Ù‰ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø§ØªÙØ§Ù‚ÙŠØ© ÙˆØ§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„ÙŠÙ‡Ø§ Ù‚Ø¨Ù„ Ù†Ø´Ø± Ø·Ù„Ø¨Ùƒ</div>
    </div>
    <div class="agree-body">

      <div class="quran-verse">
        <div class="bismillah">Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…</div>
        <div class="verse">
          Ù‚Ø§Ù„ Ø§Ù„Ù„Ù‡ ØªØ¹Ø§Ù„Ù‰:<br>
          <strong>Â« ÙˆÙØ£ÙÙˆÙ’ÙÙÙˆØ§Ù’ Ø¨ÙØ¹ÙÙ‡Ù’Ø¯Ù Ø§Ù„Ù„Ù‡Ù Ø¥ÙØ°ÙØ§ Ø¹ÙØ§Ù‡ÙØ¯ØªÙÙ‘Ù…Ù’ ÙˆÙÙ„Ø§Ù ØªÙÙ†Ù‚ÙØ¶ÙÙˆØ§Ù’ Ø§Ù„Ø£ÙÙŠÙ’Ù…ÙØ§Ù†Ù Ø¨ÙØ¹Ù’Ø¯Ù ØªÙÙˆÙ’ÙƒÙÙŠØ¯ÙÙ‡ÙØ§<br>ÙˆÙÙ‚ÙØ¯Ù’ Ø¬ÙØ¹ÙÙ„Ù’ØªÙÙ…Ù Ø§Ù„Ù„Ù‡Ù Ø¹ÙÙ„ÙÙŠÙ’ÙƒÙÙ…Ù’ ÙƒÙÙÙÙŠÙ„Ø§Ù‹ Â»</strong><br>
          <span style="font-size:12px; color:#a16207;">ØµØ¯Ù‚ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…</span>
        </div>
      </div>

      <div class="agree-points">
        <div class="agree-point">
          <div class="agree-point-icon">ğŸ¤</div>
          <div class="agree-point-text">
            <strong>Ø§Ù„ØªØ¹Ù‡Ø¯ Ø§Ù„Ø£ÙˆÙ„:</strong> Ø£ØªØ¹Ù‡Ø¯ ÙˆØ£ÙÙ‚Ø³Ù… Ø¨Ø§Ù„Ù„Ù‡ Ø£Ù†Ø§ Ø§Ù„Ù…Ø¹Ù„Ù† Ø£Ù† Ø£Ø¯ÙØ¹ Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆÙ‡ÙŠ
            <strong style="color:var(--accent);">1% Ù…Ù† Ù‚ÙŠÙ…Ø© Ø§Ù„Ø³Ø¹Ø± Ø£Ùˆ Ø§Ù„Ø¹Ù‚Ø¯ Ø§Ù„Ù…ØªÙÙ‚ Ø¹Ù„ÙŠÙ‡</strong>ØŒ
            Ø³ÙˆØ§Ø¡ ØªÙ… Ø§Ù„Ø§ØªÙØ§Ù‚ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø£Ùˆ Ø¨Ø³Ø¨Ø¨Ù‡.
          </div>
        </div>
        <div class="agree-point">
          <div class="agree-point-icon">ğŸ“…</div>
          <div class="agree-point-text">
            <strong>Ø§Ù„ØªØ¹Ù‡Ø¯ Ø§Ù„Ø«Ø§Ù†ÙŠ:</strong> Ø£ØªØ¹Ù‡Ø¯ Ø¨Ø¯ÙØ¹ Ø§Ù„Ø±Ø³ÙˆÙ… Ø®Ù„Ø§Ù„
            <strong style="color:var(--accent);">10 Ø£ÙŠØ§Ù…</strong>
            Ù…Ù† ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§ØªÙØ§Ù‚ Ø¹Ù„Ù‰ ÙƒØ§Ù…Ù„ Ù…Ø¨Ù„Øº Ø§Ù„Ø¹Ù‚Ø¯ Ø£Ùˆ Ø§Ù„Ø§ØªÙØ§Ù‚.
          </div>
        </div>
      </div>

      <div class="agree-note">
        <span style="font-size:18px; flex-shrink:0;">âš ï¸</span>
        <div>
          <strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ø¨Ø´Ø£Ù† Ø§Ù„Ø±Ø³ÙˆÙ…:</strong> Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ù„Ù†ØŒ
          ÙˆÙ„Ø§ ØªØ¨Ø±Ø£ Ø°Ù…Ø© Ø§Ù„Ù…Ø¹Ù„Ù† Ù…Ù† Ø§Ù„Ø±Ø³ÙˆÙ… Ø¥Ù„Ø§ ÙÙŠ Ø­Ø§Ù„ Ø¯ÙØ¹Ù‡Ø§ ÙƒØ§Ù…Ù„Ø©.
        </div>
      </div>

      <label class="agree-checkbox-wrap" for="agreeCheck">
        <input type="checkbox" id="agreeCheck" onchange="toggleAgreeBtn()">
        <div class="agree-checkbox-label">
          Ø£Ù‚Ø±Ù‘ Ø¨Ù‚Ø±Ø§Ø¡Ø© Ø§ØªÙØ§Ù‚ÙŠØ© Ø§Ù„Ø±Ø³ÙˆÙ… ÙƒØ§Ù…Ù„Ø©Ù‹ ÙˆØ£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø¨Ù†ÙˆØ¯Ù‡Ø§
        </div>
      </label>

      <button class="btn-agree" id="btnAgree" onclick="proceedToRequest()">
        âœ… Ù…ÙˆØ§ÙÙ‚ ÙˆØ£Ø±ÙŠØ¯ Ù†Ø´Ø± Ø·Ù„Ø¨ÙŠ
      </button>
      <button class="btn-cancel-agree" onclick="closeAgree()">Ø¥Ù„ØºØ§Ø¡</button>

    </div>
  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast">âœ… ØªÙ… Ø¨Ù†Ø¬Ø§Ø­!</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
  // Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
  const requests = [
    {
      id: 1, title: 'ØªØ±ÙƒÙŠØ¨ Ù…ÙƒÙŠÙ Ø³Ø¨Ù„ÙŠØª 2 Ø·Ù†', category: 'ğŸŒ¡ï¸ ØªÙƒÙŠÙŠÙ', city: 'Ø§Ù„Ø±ÙŠØ§Ø¶',
      status: 'open', date: '22 ÙØ¨Ø±Ø§ÙŠØ± 2026', bids: [
        { name: 'Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø±Ø§Ø¦Ø¯', rating: '4.9 (120)', price: 450, days: 2, note: 'Ø´Ø§Ù…Ù„ Ø§Ù„Ù‚Ø·Ø¹ ÙˆØ§Ù„Ø¹Ù…Ø§Ù„Ø© ÙˆØ§Ù„Ø¶Ù…Ø§Ù†', cls: 'ba2', best: true },
        { name: 'Ø£Ø­Ù…Ø¯ Ù„Ù„ØªÙƒÙŠÙŠÙ', rating: '4.5 (87)', price: 520, days: 3, note: 'Ø´Ø§Ù…Ù„ Ø¶Ù…Ø§Ù† Ø³Ù†Ø©', cls: 'ba1', best: false },
        { name: 'Ø¨Ø±ÙˆØ¯Ø© Ù„Ù„ØªØ¨Ø±ÙŠØ¯', rating: '4.3 (54)', price: 480, days: 2, note: 'Ø§Ù„Ø¹Ù…Ø§Ù„Ø© ÙÙ‚Ø·', cls: 'ba3', best: false },
      ]
    },
    {
      id: 2, title: 'Ø¯Ù‡Ø§Ù† Ø´Ù‚Ø© 4 ØºØ±Ù', category: 'ğŸ¨ Ø¯Ù‡Ø§Ù†Ø§Øª', city: 'Ø§Ù„Ø±ÙŠØ§Ø¶',
      status: 'open', date: '20 ÙØ¨Ø±Ø§ÙŠØ± 2026', bids: [
        { name: 'Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¯Ù‡Ø§Ù†', rating: '4.7 (60)', price: 1800, days: 5, note: 'Ø´Ø§Ù…Ù„ Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ø¯Ù‡Ø§Ù†', cls: 'ba1', best: true },
        { name: 'ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ù„ÙˆØ§Ù†', rating: '4.4 (44)', price: 2100, days: 4, note: 'Ø¬ÙˆØ¯Ø© Ù…Ù…ØªØ§Ø²Ø©', cls: 'ba2', best: false },
      ]
    },
    {
      id: 3, title: 'Ø¨Ø§Ø¨ Ø­Ø¯ÙŠØ¯ Ù…Ø¹ Ø´Ø¨Ùƒ', category: 'ğŸ”§ Ø­Ø¯Ø§Ø¯Ø©', city: 'Ø§Ù„Ø±ÙŠØ§Ø¶',
      status: 'review', date: '18 ÙØ¨Ø±Ø§ÙŠØ± 2026', bids: [
        { name: 'Ø§Ù„Ø­Ø¯Ø§Ø¯ Ø§Ù„Ù…ØªÙ…ÙŠØ²', rating: '4.8 (95)', price: 900, days: 7, note: 'Ø­Ø¯ÙŠØ¯ Ù…Ø¬Ù„ÙÙ† Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø©', cls: 'ba2', best: true },
      ]
    },
    {
      id: 4, title: 'Ø³Ø¨Ø§ÙƒØ© Ø­Ù…Ø§Ù… Ø±Ø¦ÙŠØ³ÙŠ', category: 'ğŸš¿ Ø³Ø¨Ø§ÙƒØ©', city: 'Ø§Ù„Ø±ÙŠØ§Ø¶',
      status: 'cancelled', date: '10 ÙØ¨Ø±Ø§ÙŠØ± 2026', bids: []
    },
  ];

  const statusMap = {
    open: '<span class="badge badge-open">Ù…ÙØªÙˆØ­</span>',
    review: '<span class="badge badge-review">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</span>',
    accepted: '<span class="badge badge-accepted">ØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±</span>',
    cancelled: '<span class="badge badge-cancelled">Ù…Ù„ØºÙŠ</span>',
  };

  function renderRequest(req, showAll = false) {
    const bidsHtml = req.bids.map((b, i) => `
      <div class="bid-row ${b.best ? 'best-bid' : ''}">
        <div class="bid-avatar ${b.cls}">${b.name[0]}</div>
        <div class="bid-info">
          <div class="bid-name">${b.name} ${b.best ? '<span class="best-label">Ø§Ù„Ø£ÙØ¶Ù„</span>' : ''}</div>
          <div class="bid-rating">â˜… ${b.rating}</div>
          <div class="bid-note">${b.note}</div>
        </div>
        <div class="bid-price-wrap">
          <div class="bid-price">${b.price} Ø±.Ø³</div>
          <div class="bid-days">â± ${b.days} Ø£ÙŠØ§Ù…</div>
        </div>
        ${req.status !== 'cancelled' ? `<button class="btn-choose" onclick="chooseBid(${req.id}, ${i})">Ø§Ø®ØªÙŠØ§Ø±</button>` : ''}
      </div>
    `).join('');

    return `
      <div class="request-card" id="req-${req.id}">
        <div class="req-top">
          <div>
            <div class="req-title">${req.title}</div>
            <div class="req-meta">
              <span>${req.category}</span>
              <span>ğŸ“ ${req.city}</span>
              <span>ğŸ“… ${req.date}</span>
            </div>
          </div>
          ${statusMap[req.status] || ''}
        </div>
        <div class="req-bottom">
          <div class="bids-count">
            ğŸ’° ${req.bids.length} ${req.bids.length === 0 ? 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ø±ÙˆØ¶ Ø¨Ø¹Ø¯' : 'Ø¹Ø±Ø¶ ÙˆØµÙ„'}
          </div>
          ${req.bids.length > 0 && req.status !== 'cancelled' ?
            `<button class="btn-view-bids" onclick="toggleBids(${req.id})">Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø±ÙˆØ¶ â–¾</button>` : ''}
        </div>
        ${req.bids.length > 0 ? `
          <div class="bids-panel" id="bids-${req.id}">
            <div style="font-size:13px; font-weight:700; color:var(--muted); margin-bottom:10px;">Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø© â€“ Ù…Ø±ØªØ¨Ø© Ù…Ù† Ø§Ù„Ø£Ø±Ø®Øµ:</div>
            ${bidsHtml}
          </div>` : ''}
      </div>
    `;
  }

  function renderAll() {
    const homeList = document.getElementById('homeRequestsList');
    const allList = document.getElementById('allRequestsList');
    const slice = requests.slice(0, 2);
    homeList.innerHTML = slice.map(r => renderRequest(r)).join('');
    allList.innerHTML = requests.map(r => renderRequest(r)).join('');
  }

  function toggleBids(id) {
    const panel = document.getElementById('bids-' + id);
    panel.classList.toggle('open');
    const btn = panel.previousElementSibling.querySelector('.btn-view-bids');
    if (btn) btn.textContent = panel.classList.contains('open') ? 'Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ø±ÙˆØ¶ â–´' : 'Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø±ÙˆØ¶ â–¾';
  }

  function chooseBid(reqId, bidIdx) {
    const req = requests.find(r => r.id === reqId);
    const bid = req.bids[bidIdx];
    req.status = 'accepted';
    renderAll();
    document.getElementById('bids-' + reqId).classList.add('open');
    showToast(`âœ… ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ${bid.name} Ø¨Ø³Ø¹Ø± ${bid.price} Ø±.Ø³`);
  }

  // MODAL
  function openModal() {
    // Show agreement first
    document.getElementById('agreeCheck').checked = false;
    document.getElementById('btnAgree').classList.remove('enabled');
    document.getElementById('agreeOverlay').classList.add('open');
  }

  function closeAgree() {
    document.getElementById('agreeOverlay').classList.remove('open');
  }

  function toggleAgreeBtn() {
    const checked = document.getElementById('agreeCheck').checked;
    const btn = document.getElementById('btnAgree');
    btn.classList.toggle('enabled', checked);
  }

  function proceedToRequest() {
    closeAgree();
    document.getElementById('modalOverlay').classList.add('open');
  }

  function closeModal() {
    document.getElementById('modalOverlay').classList.remove('open');
  }

  function closeModalOutside(e) {
    if (e.target === document.getElementById('modalOverlay')) closeModal();
  }

  function submitRequest() {
    const title = document.getElementById('newTitle').value;
    const desc = document.getElementById('newDesc').value;
    const city = document.getElementById('newCity').value || 'Ø§Ù„Ø±ÙŠØ§Ø¶';
    if (!title || !desc) { showToast('âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©'); return; }

    requests.unshift({
      id: Date.now(), title, category: 'ğŸŒ¡ï¸ ØªÙƒÙŠÙŠÙ', city,
      status: 'open', date: 'Ø§Ù„Ø¢Ù†', bids: []
    });

    renderAll();
    closeModal();
    showToast('ğŸš€ ØªÙ… Ù†Ø´Ø± Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù†ØªØ¸Ø± Ø§Ù„Ø¹Ø±ÙˆØ¶');
    document.getElementById('newTitle').value = '';
    document.getElementById('newDesc').value = '';
    showPage('requests', document.querySelectorAll('.menu-item')[1]);
  }

  // TOAST
  function showToast(msg) {
    const t = document.getElementById('toast');
    t.textContent = msg;
    t.classList.add('show');
    setTimeout(() => t.classList.remove('show'), 3000);
  }

  // PAGE NAV
  function showPage(page, el) {
    document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
    document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
    document.getElementById('page-' + page).classList.add('active');
    if (el) el.classList.add('active');
    const titles = {
      home: 'Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ø­Ù…Ø¯ ğŸ‘‹', requests: 'Ø·Ù„Ø¨Ø§ØªÙŠ',
      deals: 'ØµÙÙ‚Ø§ØªÙŠ', messages: 'Ø§Ù„Ø±Ø³Ø§Ø¦Ù„',
      notifications: 'Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª', profile: 'Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠ'
    };
    document.getElementById('pageTitle').textContent = titles[page] || '';
  }

  // CHAT
  const chatContacts = [
    { name: 'Ù…Ø¤Ø³Ø³Ø© Ø§Ù„Ø±Ø§Ø¦Ø¯', last: 'Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø®ØªÙŠØ§Ø±Ùƒ Ù„Ù†Ø§', unread: 2, cls: 'ba2' },
    { name: 'Ø£Ø­Ù…Ø¯ Ù„Ù„ØµÙŠØ§Ù†Ø©', last: 'Ù…ØªÙ‰ ÙŠÙ†Ø§Ø³Ø¨Ùƒ Ø§Ù„Ù…ÙˆØ¹Ø¯ØŸ', unread: 1, cls: 'ba1' },
    { name: 'Ø¨Ø±ÙˆØ¯Ø© Ù„Ù„ØªØ¨Ø±ÙŠØ¯', last: 'ØªÙØ¶Ù„ Ø§Ù„Ø³Ø¹Ø± Ø´Ø§Ù…Ù„...', unread: 0, cls: 'ba3' },
  ];

  const chatMessages = [
    { from: 'other', text: 'Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø®ØªÙŠØ§Ø±Ùƒ Ù„Ù†Ø§ØŒ Ù…ØªÙ‰ ÙŠÙ†Ø§Ø³Ø¨Ùƒ Ø§Ù„ØªØ±ÙƒÙŠØ¨ØŸ' },
    { from: 'me', text: 'ÙŠÙ†Ø§Ø³Ø¨Ù†ÙŠ ØºØ¯Ø§Ù‹ Ø§Ù„ØµØ¨Ø§Ø­ Ø¥Ø°Ø§ Ù…ØªØ§Ø­' },
    { from: 'other', text: 'Ù…Ù…ØªØ§Ø²! Ø³Ù†ÙƒÙˆÙ† Ø¹Ù†Ø¯Ùƒ Ø§Ù„Ø³Ø§Ø¹Ø© 9 ØµØ¨Ø§Ø­Ø§Ù‹ Ø¥Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡' },
    { from: 'me', text: 'ØªÙ…Ø§Ù…ØŒ Ø´ÙƒØ±Ø§Ù‹' },
    { from: 'other', text: 'Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø®ØªÙŠØ§Ø±Ùƒ Ù„Ù†Ø§ ğŸ™' },
  ];

  function initChat() {
    const list = document.getElementById('chatList');
    list.innerHTML = chatContacts.map((c, i) => `
      <div onclick="selectChat(${i})" style="padding:12px 14px; display:flex; align-items:center; gap:10px; cursor:pointer; border-bottom:1px solid var(--border); ${i===0?'background:var(--accent-light);':''}">
        <div style="width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;background:#dbeafe;color:var(--accent);">${c.name[0]}</div>
        <div style="flex:1; min-width:0;">
          <div style="font-size:13px;font-weight:700;">${c.name}</div>
          <div style="font-size:12px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">${c.last}</div>
        </div>
        ${c.unread ? `<span style="background:var(--accent);color:white;font-size:11px;font-weight:700;padding:1px 6px;border-radius:100px;">${c.unread}</span>` : ''}
      </div>
    `).join('');

    const msgs = document.getElementById('chatMessages');
    msgs.innerHTML = chatMessages.map(m => `
      <div style="display:flex; justify-content:${m.from==='me'?'flex-end':'flex-start'};">
        <div style="background:${m.from==='me'?'var(--accent)':'var(--bg)'};color:${m.from==='me'?'white':'#1e293b'};padding:10px 14px;border-radius:${m.from==='me'?'14px 14px 4px 14px':'14px 14px 14px 4px'};max-width:70%;font-size:14px;line-height:1.5;">${m.text}</div>
      </div>
    `).join('');
    msgs.scrollTop = msgs.scrollHeight;
  }

  function selectChat(i) { initChat(); }

  function sendMsg() {
    const input = document.getElementById('msgInput');
    const text = input.value.trim();
    if (!text) return;
    chatMessages.push({ from: 'me', text });
    input.value = '';
    const msgs = document.getElementById('chatMessages');
    msgs.innerHTML += `
      <div style="display:flex;justify-content:flex-end;">
        <div style="background:var(--accent);color:white;padding:10px 14px;border-radius:14px 14px 4px 14px;max-width:70%;font-size:14px;">${text}</div>
      </div>`